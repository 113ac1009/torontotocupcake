<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Toronto Cupcake — Single File</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    @charset "UTF-8";
    :root{
      --bg: #FDF6EC;
      --accent: rgba(250,218,221,0.6);
      --brand: #6B4226;
      --muted: #7a5b48;
      --radius: 12px;
      --max-width: 1200px;
      --gap: 24px;
      --card-shadow: 0 8px 24px rgba(107,66,38,0.08);
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"Open Sans",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--brand);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    a{color:inherit}
    img{max-width:100%;display:block}

    /* Skip link */
    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:12px;top:12px;width:auto;height:auto;padding:8px 12px;background:#fff;color:var(--brand);border-radius:6px;box-shadow:0 6px 18px rgba(107,66,38,0.12);z-index:9999}

    /* Layout container */
    .site{display:flex;min-height:100vh;flex-direction:column;align-items:center}
    .wrap{width:100%;max-width:var(--max-width);padding:24px;box-sizing:border-box}

    /* Header */
    .header{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:var(--accent);border-radius:12px;margin-bottom:18px;gap:12px}
    .logo-area{display:flex;align-items:center;gap:12px}
    .logo-square{width:70px;height:70px;border-radius:10px;overflow:hidden;background:linear-gradient(180deg,#ffe9f0 0%,#ffdfe8 100%);box-shadow:0 2px 6px rgba(107,66,38,0.08);flex-shrink:0}
    .brand-title{display:flex;flex-direction:column;line-height:1.1}
    .brand-title .name{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;color:var(--brand)}
    .brand-title .tag{font-size:12px;color:var(--muted)}

    nav.global-nav{display:flex;align-items:center;gap:12px}
    .nav-list{display:flex;gap:14px;list-style:none;margin:0;padding:0;align-items:center}
    .nav-list a{display:inline-block;text-decoration:none;color:var(--brand);font-weight:600;padding:8px 12px;border-radius:8px;transition:background .18s}
    .nav-list a:hover,.nav-list a:focus{background:rgba(107,66,38,0.08);outline:none}
    .nav-list a[aria-current="page"]{background:rgba(107,66,38,0.12)}

    /* Main card */
    main.main{width:100%;background:#fff;border-radius:12px;padding:0;box-shadow:var(--card-shadow);box-sizing:border-box;margin-bottom:18px;overflow:hidden}

    /* ---------- ABOUT: full-width hero as main visual ---------- */
    .about-hero {
      position: relative;
      width:100%;
      height:60vh;
      min-height:700px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      background:#000;
    }
    .about-hero img {
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      transform:scale(1.02);
      transition:transform 800ms ease;
      will-change:transform,opacity;
      opacity:0;
      filter:contrast(1.02) saturate(1.05);
    }
    .about-hero.loaded img{opacity:1;transform:scale(1)}
    .about-hero::after{
      content:"";
      position:absolute;inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,0.18) 0%, rgba(255,255,255,0.02) 40%, rgba(0,0,0,0.28) 100%);
      pointer-events:none;
    }
    .about-hero .hero-overlay{
      position:relative;
      z-index:2;
      color:#fff;
      text-align:center;
      padding:0 18px;
      max-width:900px;
      transform:translateY(8px);
      opacity:0;
      animation:heroTextIn 700ms ease forwards 300ms;
    }
    .about-hero h1{font-family:'Playfair Display',serif;font-size:44px;margin:0 0 10px;letter-spacing:0.2px}
    .about-hero p{margin:0;color:rgba(255,255,255,0.92);font-size:18px;line-height:1.5}

    @keyframes heroTextIn{
      from{opacity:0;transform:translateY(18px)}
      to{opacity:1;transform:translateY(0)}
    }

    /* scroll reveal for sections */
    .reveal {opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s ease}
    .reveal.visible{opacity:1;transform:translateY(0)}

    /* ---------- Cupcakes grid / carousel ---------- */
    .section-inner{padding:var(--gap)}
    .section-title {font-family:'Playfair Display',serif;font-size:26px;color:var(--brand);margin:0 0 12px 0}

    /* Desktop / Tablet: horizontal scroll container */
    .products-row {
      display:flex;
      gap:18px;
      overflow-x:auto;
      padding-bottom:8px;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
    }
    .product-card {
      flex:0 0 260px; /* desktop default card width */
      background:#fff;
      border-radius:12px;
      box-shadow:0 8px 20px rgba(107,66,38,0.06);
      overflow:hidden;
      scroll-snap-align:center;
      transition:transform .22s ease, box-shadow .22s ease;
      cursor:pointer;
      border:1px solid rgba(107,66,38,0.03);
      min-height:500px;
    }
    .product-card:hover,.product-card:focus-within{transform:translateY(-6px);box-shadow:0 18px 36px rgba(107,66,38,0.12)}
    .product-media{height:300px;overflow:hidden}
    .product-media img{width:100%;height:100%;min-height:350px;object-fit:cover;display:block;transition:transform .4s ease}
    .product-card:hover .product-media img{transform:scale(1.06)}
    .product-body{padding:12px}
    .product-title{font-weight:700;color:var(--brand);margin:0 0 6px;font-size:16px}
    .product-desc{font-size:13px;color:var(--muted);margin:0 0 10px}
    .product-meta{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .price{font-weight:800;color:var(--brand)}
    .btn-small{background:transparent;border:1px solid rgba(107,66,38,0.08);padding:8px 10px;border-radius:8px;font-weight:700;color:var(--brand);cursor:pointer}

    /* Mobile grid: two per row */
    .products-grid {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
    }

    /* Modal for product details */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:9999}
    .modal-backdrop.open{display:flex}
    .modal{background:#fff;border-radius:12px;max-width:720px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,0.25);overflow:hidden}
    .modal .modal-body{display:flex;gap:18px;padding:18px}
    .modal .modal-media{flex:0 0 260px}
    .modal .modal-media img{width:100%;height:100%;object-fit:cover;border-radius:8px}
    .modal .modal-content{flex:1}
    .modal h3{margin:0 0 8px;font-family:'Playfair Display',serif}
    .modal p{color:var(--muted);margin:0 0 12px}
    .modal .modal-actions{display:flex;gap:12px;margin-top:12px}
    .close-btn{background:transparent;border:1px solid rgba(107,66,38,0.08);padding:8px 12px;border-radius:8px;cursor:pointer}

    /* small interactions */
    .pulse {animation:pulse 1600ms infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

    /* Footer */
    footer.site-footer{padding:18px;text-align:center;color:var(--muted)}

    /* Responsive breakpoints: desktop / tablet / mobile */
    /* Desktop: default (>= 1000px) */
    @media (max-width: 1000px){
      /* Tablet layout adjustments */
      .about-hero{height:50vh;min-height:360px}
      .product-card{flex:0 0 300px}
      .modal .modal-body{flex-direction:column}
      .modal .modal-media{width:100%}
    }
    @media (max-width: 640px){
      /* Mobile */
      .about-hero{height:40vh;min-height:220px}
      .about-hero h1{font-size:28px}
      .product-card{flex:0 0 48%}
      .products-row{display:none} /* hide horizontal scroller on mobile */
      .products-grid{display:grid}
      .product-card{width:100%}
      .product-media{height:300px}
      .modal .modal-body{padding:12px}
    }

    /* Accessibility focus */
    a:focus,button:focus,input:focus{outline:3px solid rgba(250,218,221,0.6);outline-offset:2px;border-radius:8px}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <div class="site">
    <div class="wrap">

      <!-- Header -->
      <header class="header" role="banner">
        <div class="logo-area" aria-label="Toronto Cupcake">
          <div class="logo-square" aria-hidden="true">
            <img src="tc-logo.png" alt="Toronto Cupcake logo" style="width:100%;height:100%;object-fit:cover">
          </div>
          <div class="brand-title">
            <div class="name">Toronto Cupcake</div>
            <div class="tag">Fresh cupcakes across the GTA</div>
          </div>
        </div>

        <nav class="global-nav" role="navigation" aria-label="Main navigation">
          <ul class="nav-list" role="menubar">
            <li role="none"><a role="menuitem" href="#home" aria-current="page">HOME</a></li>
            <li role="none"><a role="menuitem" href="#about">ABOUT</a></li>
            <li role="none"><a role="menuitem" href="#cupcakes">CUPCAKES</a></li>
           <!-- <li role="none"><a role="menuitem" href="#cart">CART</a></li>-->
            <li role="none"><a role="menuitem" href="#contact">CONTACT</a></li>
          </ul>
        </nav>
      </header>

      <main id="main" class="main" role="main">

        <!-- HOME (kept compact) -->
        <section id="home" class="section-inner" aria-labelledby="home-title">
          <h2 id="home-title" class="section-title">Welcome to Toronto Cupcake</h2>
          <p style="color:var(--muted);margin:0 0 12px 0;">Delicious cupcakes made fresh for every occasion. Order online 24/7 and enjoy fast, reliable delivery across the GTA.</p>
        </section>

        <!-- ABOUT: full-width hero -->
        <section id="about" aria-labelledby="about-title">
          <div class="about-hero" id="aboutHero">
            <img src="bigcupcake.png" alt="Michelle holding a tray of decorated cupcakes" id="aboutHeroImg" loading="lazy">
            <div class="hero-overlay" role="region" aria-label="About hero text">
              <h1>About Toronto Cupcake</h1>
              <p>Handcrafted cupcakes baked fresh daily. From birthdays to weddings, we make every bite memorable.</p>
            </div>
          </div>

          <!-- below hero: reveal content -->
          <div class="section-inner">
            <div class="reveal" id="aboutContent">
              <div style="display:grid;grid-template-columns:1fr 420px;gap:24px;align-items:start">
                <div>
                  <h3 class="section-title" style="font-size:20px;margin-bottom:8px">About Us</h3>
                  <p style="color:var(--muted);line-height:1.7;margin:0 0 12px 0;">Welcome to Toronto Cupcake! Founded in 2010, we are proud to be Toronto's leading destination for gourmet branded cupcakes. Whether you're celebrating a birthday, hosting a corporate event, or simply indulging in a sweet treat, our handcrafted cupcakes are made fresh daily using the finest ingredients.</p>
                  <p style="color:var(--muted);line-height:1.7;margin:0 0 12px 0;">We love the idea that our treats are making people happy every time they bite into one. At Toronto Cupcake, we believe in giving back to the community and welcome opportunities to collaborate on charitable events.</p>
                </div>

                <aside style="background:#fff;border-radius:12px;padding:12px;box-shadow:var(--card-shadow)">
                  <img src="Michelle.webp" alt="Michelle with cupcakes" style="width:100%;height:260px;object-fit:cover;border-radius:8px;margin-bottom:10px">
                  <div style="font-family:'Playfair Display',serif;color:var(--brand);font-size:18px;margin-bottom:6px">About Michelle</div>
                  <p style="color:var(--muted);margin:0">Toronto Cupcake was created by Michelle Harrison to pursue her love of baking. Inspired by her mother, Michelle opened Toronto Cupcake in August 2010 as one of Canada's first gourmet cupcakeries.</p>
                </aside>
              </div>
            </div>
          </div>
        </section>

        <!-- CUPCAKES: product list with interactive modal -->
        <section id="cupcakes" class="section-inner" aria-labelledby="cupcakes-title" style="margin-top:18px">
          <h2 id="cupcakes-title" class="section-title">Our Cupcakes</h2>
          <p style="color:var(--muted);margin:0 0 12px 0;">Explore our signature flavors. 點擊任一款查看詳情與價格。</p>

          <!-- Desktop/Tablet horizontal scroller -->
          <div class="products-row" id="productsRow" aria-hidden="false" tabindex="0" style="margin-top:12px">
            <!-- Product cards (4~6 items) -->
            <article class="product-card" tabindex="0" data-id="1" aria-labelledby="p1-title">
              <div class="product-media"><img src="cupcake1.jpg" alt="Classic Vanilla Cupcake"></div>
              <div class="product-body">
                <h4 id="p1-title" class="product-title">Classic Vanilla</h4>
                <p class="product-desc">Light vanilla sponge with buttercream frosting.</p>
                <div class="product-meta">
                  <div class="price">$3.50</div>
                  <button class="btn-small" data-action="open" data-id="1">View</button>
                </div>
              </div>
            </article>

            <article class="product-card" tabindex="0" data-id="2" aria-labelledby="p2-title">
              <div class="product-media"><img src="cupcake2.jpg" alt="Chocolate Fudge Cupcake"></div>
              <div class="product-body">
                <h4 id="p2-title" class="product-title">Chocolate Fudge</h4>
                <p class="product-desc">Rich chocolate cake with fudge center.</p>
                <div class="product-meta">
                  <div class="price">$4.00</div>
                  <button class="btn-small" data-action="open" data-id="2">View</button>
                </div>
              </div>
            </article>

            <article class="product-card" tabindex="0" data-id="3" aria-labelledby="p3-title">
              <div class="product-media"><img src="cupcake3.jpg" alt="Red Velvet Cupcake"></div>
              <div class="product-body">
                <h4 id="p3-title" class="product-title">Red Velvet</h4>
                <p class="product-desc">Velvety cake with cream cheese frosting.</p>
                <div class="product-meta">
                  <div class="price">$4.25</div>
                  <button class="btn-small" data-action="open" data-id="3">View</button>
                </div>
              </div>
            </article>

            <article class="product-card" tabindex="0" data-id="4" aria-labelledby="p4-title">
              <div class="product-media"><img src="cupcake4.jpg" alt="Lemon Zest Cupcake"></div>
              <div class="product-body">
                <h4 id="p4-title" class="product-title">Lemon Zest</h4>
                <p class="product-desc">Citrus sponge with lemon curd filling.</p>
                <div class="product-meta">
                  <div class="price">$3.75</div>
                  <button class="btn-small" data-action="open" data-id="4">View</button>
                </div>
              </div>
            </article>

            <article class="product-card" tabindex="0" data-id="5" aria-labelledby="p5-title">
              <div class="product-media"><img src="cupcake5.jpg" alt="Salted Caramel Cupcake"></div>
              <div class="product-body">
                <h4 id="p5-title" class="product-title">Salted Caramel</h4>
                <p class="product-desc">Caramel buttercream with sea salt finish.</p>
                <div class="product-meta">
                  <div class="price">$4.50</div>
                  <button class="btn-small" data-action="open" data-id="5">View</button>
                </div>
              </div>
            </article>

            <article class="product-card" tabindex="0" data-id="6" aria-labelledby="p6-title">
              <div class="product-media"><img src="cupcake6.jpg" alt="Matcha Green Tea Cupcake"></div>
              <div class="product-body">
                <h4 id="p6-title" class="product-title">Matcha Green Tea</h4>
                <p class="product-desc">Earthy matcha sponge with white chocolate.</p>
                <div class="product-meta">
                  <div class="price">$4.25</div>
                  <button class="btn-small" data-action="open" data-id="6">View</button>
                </div>
              </div>
            </article>
          </div>

          <!-- Mobile grid fallback -->
          <div class="products-grid" id="productsGrid" style="display:none;margin-top:12px">
            <!-- same cards duplicated for mobile grid (JS will clone) -->
          </div>
        </section>

        <!-- CART placeholder 
        <section id="cart" class="section-inner" style="margin-top:18px">
          <h2 class="section-title">Cart</h2>
          <p style="color:var(--muted);margin:0 0 12px 0">（購物車示範區 — 可連結到實際購物流程）</p>
        </section>-->

        <!-- CONTACT -->
        <section id="contact" class="section-inner" style="margin-top:18px">
          <h2 class="section-title">Give Us a Ring or Click</h2>
          <p style="color:var(--muted);margin:0 0 12px 0">Our main Toronto location will be opening soon in the GTA. In the meantime, please order for delivery.</p>

          <div style="display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start">
            <div>
              <h3 style="font-family:'Playfair Display',serif;color:var(--brand);margin:0 0 8px 0">Contact</h3>
              <ul style="color:var(--muted);line-height:1.8;padding-left:18px;margin:6px 0 12px 0">
                <li><strong>North America:</strong> <a href="tel:+18773349468">+1-877-334-9468</a></li>
                <li><strong>Outside North America:</strong> <a href="tel:+0016474789464">+001-647-478-9464</a></li>
                <li><strong>Local Toronto and GTA:</strong> <a href="tel:+16474789464">647-478-9464</a></li>
              </ul>

              <h4 style="font-family:'Playfair Display',serif;color:var(--brand);margin:12px 0 6px 0">Email</h4>
              <p style="color:var(--muted);margin:0 0 12px 0"><a href="mailto:inquiry@torontocupcake.com" style="text-decoration:underline;color:var(--brand)">inquiry@torontocupcake.com</a></p>
            </div>

            <aside style="background:#fff;border-radius:12px;padding:14px;box-shadow:var(--card-shadow)">
              <div style="font-family:'Playfair Display',serif;color:var(--brand);font-size:18px;margin-bottom:8px">Hours of Operation</div>
              <div style="color:var(--muted);line-height:1.6">
                <div><strong>Monday - Saturday:</strong> 7am - 10pm</div>
                <div style="margin-top:6px"><strong>Sunday:</strong> 7am - 10pm (no pick-ups, deliveries for 2 dozen or more)</div>
              </div>
            </aside>
          </div>
        </section>

      </main>

      <!-- Footer -->
      <footer class="site-footer">
        © 2024 Toronto Cupcake. All rights reserved.
      </footer>

    </div> <!-- wrap -->
  </div> <!-- site -->

  <!-- Product modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div class="modal-body">
        <div class="modal-media"><img id="modalImg" src="" alt=""></div>
        <div class="modal-content">
          <h3 id="modalTitle">Title</h3>
          <p id="modalDesc">Description</p>
          <div style="font-weight:800;color:var(--brand);font-size:18px" id="modalPrice">$0.00</div>
          <div class="modal-actions" style="margin-top:12px">
            <button class="close-btn" id="modalClose">Close</button>
            <button class="btn-small" id="addToCart">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ---------- Data for products ----------
    const products = [
      {id:1, title:'Classic Vanilla', price:'$3.50', img:'cupcake1.jpg', desc:'Light vanilla sponge with buttercream frosting. Perfect for any celebration.'},
      {id:2, title:'Chocolate Fudge', price:'$4.00', img:'cupcake2.jpg', desc:'Rich chocolate cake with a gooey fudge center.'},
      {id:3, title:'Red Velvet', price:'$4.25', img:'cupcake3.jpg', desc:'Velvety red sponge topped with cream cheese frosting.'},
      {id:4, title:'Lemon Zest', price:'$3.75', img:'cupcake4.jpg', desc:'Bright citrus sponge with lemon curd filling.'},
      {id:5, title:'Salted Caramel', price:'$4.50', img:'cupcake5.jpg', desc:'Caramel buttercream finished with sea salt.'},
      {id:6, title:'Matcha Green Tea', price:'$4.25', img:'cupcake6.jpg', desc:'Earthy matcha sponge paired with white chocolate.'}
    ];

    // ---------- Utility: toggle mobile/desktop product layout ----------
    function setupProductsLayout(){
      const row = document.getElementById('productsRow');
      const grid = document.getElementById('productsGrid');

      // populate row (desktop/tablet) if empty
      if(row && row.children.length === 0){
        products.forEach(p => {
          const card = createProductCard(p);
          row.appendChild(card);
        });
      }

      // populate grid (mobile) if empty
      if(grid && grid.children.length === 0){
        products.forEach(p => {
          const card = createProductCard(p);
          grid.appendChild(card);
        });
      }

      // show/hide based on viewport
      function updateDisplay(){
        if(window.innerWidth <= 640){
          row.style.display = 'none';
          grid.style.display = 'grid';
        } else {
          row.style.display = 'flex';
          grid.style.display = 'none';
        }
      }
      updateDisplay();
      window.addEventListener('resize', updateDisplay);
    }

    function createProductCard(p){
      const article = document.createElement('article');
      article.className = 'product-card';
      article.setAttribute('tabindex','0');
      article.dataset.id = p.id;
      article.innerHTML = `
        <div class="product-media"><img src="${p.img}" alt="${p.title}"></div>
        <div class="product-body">
          <h4 class="product-title">${p.title}</h4>
          <p class="product-desc">${p.desc}</p>
          <div class="product-meta">
            <div class="price">${p.price}</div>
            <button class="btn-small" data-action="open" data-id="${p.id}">View</button>
          </div>
        </div>
      `;
      // keyboard: Enter opens modal
      article.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          openProductModal(p.id);
          e.preventDefault();
        }
      });
      return article;
    }

    // ---------- Modal logic ----------
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalPrice = document.getElementById('modalPrice');
    const modalClose = document.getElementById('modalClose');
    const addToCartBtn = document.getElementById('addToCart');

    function openProductModal(id){
      const p = products.find(x=>x.id===Number(id));
      if(!p) return;
      modalImg.src = p.img;
      modalImg.alt = p.title;
      modalTitle.textContent = p.title;
      modalDesc.textContent = p.desc;
      modalPrice.textContent = p.price;
      modalBackdrop.classList.add('open');
      modalBackdrop.setAttribute('aria-hidden','false');
      // trap focus
      modalClose.focus();
      document.body.style.overflow = 'hidden';
    }

    function closeModal(){
      modalBackdrop.classList.remove('open');
      modalBackdrop.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    // delegate open buttons
    document.addEventListener('click', function(e){
      const btn = e.target.closest('[data-action="open"]');
      if(btn){
        const id = btn.dataset.id;
        openProductModal(id);
      }
      if(e.target === modalBackdrop || e.target === modalClose) closeModal();
    });

    // keyboard close
    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape' && modalBackdrop.classList.contains('open')) closeModal();
    });

    // Add to cart (demo)
    addToCartBtn.addEventListener('click', function(){
      // simple feedback animation
      addToCartBtn.textContent = 'Added ✓';
      addToCartBtn.disabled = true;
      setTimeout(()=>{ addToCartBtn.textContent = 'Add to Cart'; addToCartBtn.disabled = false; closeModal(); }, 900);
    });

    // ---------- About hero image load & scroll reveal ----------
    const aboutHero = document.getElementById('aboutHero');
    const aboutHeroImg = document.getElementById('aboutHeroImg');
    aboutHeroImg.addEventListener('load', ()=> aboutHero.classList.add('loaded'));
    if(aboutHeroImg.complete) aboutHero.classList.add('loaded');

    // reveal on scroll
    const revealEls = document.querySelectorAll('.reveal');
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(ent=>{
        if(ent.isIntersecting) ent.target.classList.add('visible');
      });
    }, {threshold:0.18});
    revealEls.forEach(el=>obs.observe(el));

    // smooth in-page nav + set aria-current
    const navLinks = document.querySelectorAll('.nav-list a');
    function setCurrent(hash){
      navLinks.forEach(a => {
        if(a.getAttribute('href') === hash) a.setAttribute('aria-current','page');
        else a.removeAttribute('aria-current');
      });
    }
    navLinks.forEach(a=>{
      a.addEventListener('click', function(e){
        const href = this.getAttribute('href');
        if(href && href.startsWith('#')){
          e.preventDefault();
          const target = document.querySelector(href);
          if(target){
            target.scrollIntoView({behavior:'smooth',block:'start'});
            target.setAttribute('tabindex','-1');
            target.focus({preventScroll:true});
            setTimeout(()=> target.removeAttribute('tabindex'),1000);
            setCurrent(href);
            history.replaceState(null,'',href);
          }
        }
      });
    });

    // initialize products layout
    setupProductsLayout();

    // small enhancement: keyboard arrow navigation for horizontal scroller
    const scroller = document.getElementById('productsRow');
    if(scroller){
      scroller.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowRight') scroller.scrollBy({left:260,behavior:'smooth'});
        if(e.key === 'ArrowLeft') scroller.scrollBy({left:-260,behavior:'smooth'});
      });
    }

    // ensure mobile grid clones if needed (already created in setupProductsLayout)
  </script>
</body>
</html>